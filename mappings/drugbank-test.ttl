@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rev: <http://purl.org/stuff/rev#> .
@prefix schema: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <http://tib.de/ontario/mapping#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix iasis: <http://project-iasis.eu/vocab/> .


:drugbank_drug
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/drugbankxml/datasource/Drugbank>;
  						rml:referenceFormulation ql:XPath;
              rml:iterator "drugbank.xml$/drugbank/drug"
  						];
  	rr:subjectMap [
  		      rr:template "http://project-iasis.eu/Drug/{drugbank-id[@primary=true]}";
        		rr:class iasis:Drug
  	];
    rr:predicateObjectMap [
      rr:predicate iasis:drugName;
      rr:objectMap [
        rml:reference "name"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:description;
      rr:objectMap [
        rml:reference "description"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:cas-number;
      rr:objectMap [
        rml:reference "cas-number";
        rr:datatype xsd:int
      ]
    ];

    rr:predicateObjectMap [
      rr:predicate iasis:unii;
      rr:objectMap [
        rml:reference "unii"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:drugState;
      rr:objectMap [
        rml:reference "state"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:indication;
      rr:objectMap [
        rml:reference "indication"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:toxicity;
      rr:objectMap [
        rml:reference "toxicity"
      ]
    ];

    rr:predicateObjectMap [
      rr:predicate iasis:drugClassification;
      rr:objectMap [
        rr:parentTriplesMap :drugbank_drug_classification
      ]
    ];

  	rr:predicateObjectMap [
      		rr:predicate iasis:drugType;
          rr:objectMap [
            rml:reference "type"
          ]
  	];
    rr:predicateObjectMap [
      rr:predicate iasis:pharmacodynamics;
      rr:objectMap [
        rml:reference "pharmacodynamics"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:mechanism-of-action;
      rr:objectMap [
        rml:reference "mechanism-of-action"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:metabolism;
      rr:objectMap [
        rml:reference "metabolism"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:absorption;
      rr:objectMap [
        rml:reference "absorption"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:half-life;
      rr:objectMap [
        rml:reference "half-life"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:route-of-elimination;
      rr:objectMap [
        rml:reference "route-of-elimination"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:volume-of-distribution;
      rr:objectMap [
        rml:reference "volume-of-distribution"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:clearance;
      rr:objectMap [
        rml:reference "clearance"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:fda-label;
      rr:objectMap [
        rml:reference "fda-label"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:msds;
      rr:objectMap [
        rml:reference "msds"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rml:reference ""
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rml:reference ""
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rml:reference ""
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rml:reference ""
      ]
    ];


    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rr:parentTriplesMap :
      ]
    ];

    rr:predicateObjectMap [
      rr:predicate iasis:;
      rr:objectMap [
        rml:reference ""
      ]
    ].




:drugbank_drug_classification
    rml:logicalSource [
              rml:source  <http://ontario.tib.eu/drugbankxml/datasource/Drugbank>;
              rml:referenceFormulation ql:XPath;
              rml:iterator "drugbank.xml$/drugbank/drug/classification"
              ];
    rr:subjectMap [
            rr:template "http://project-iasis.eu/Drug/{class}";
            rr:class iasis:DrugClassification
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:parentClass;
      rr:objectMap [
        rml:reference "direct-parent"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:description;
      rr:objectMap [
        rml:reference "description"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:kingdom;
      rr:objectMap [
        rml:reference "kingdom"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:subclass;
      rr:objectMap [
        rml:reference "subclass"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate iasis:superclass;
      rr:objectMap [
        rml:reference "superclass"
      ]
    ].
