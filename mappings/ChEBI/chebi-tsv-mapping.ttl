@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rev: <http://purl.org/stuff/rev#> .
@prefix schema: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <http://tib.de/ontario/mapping#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix chebi: <http://bio2rdf.org/ns/chebi#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .

:chebi_compound
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
  						rml:referenceFormulation ql:TSV;
              rml:iterator "compounds.tsv"
  						];
  	rr:subjectMap [
  		      rr:template "http://bio2rdf.org/chebi:{ID}";
        		rr:class chebi:Compound
  	];
    rr:predicateObjectMap [
      rr:predicate chebi:url;
      rr:objectMap [
        rr:template "http://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:{ID}";
        rr:datatype xsd:string
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:xSource;
      rr:objectMap [
        rr:template "http://bio2rdf.org/chebi:source-{SOURCE}"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:Status;
      rr:objectMap [
        rr:template "http://bio2rdf.org/chebi:status-{STATUS}"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:label;
      rr:objectMap [
        rml:reference "NAME"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate dc:title;
      rr:objectMap [
        rml:reference "NAME"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate dc:modified;
      rr:objectMap [
        rml:reference "MODIFIED_ON"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate dc:createdBy;
      rr:objectMap [
        rml:reference "CREATED_BY"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate dc:identifier;
      rr:objectMap [
        rml:reference "CHEBI_ACCESSION"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:definition;
      rr:objectMap [
        rml:reference "DEFINITION"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate rdfs:seeAlso;
      rr:objectMap [
        rml:reference "PARENT_ID"
      ]
    ].

:chebi_compound_names
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
  						rml:referenceFormulation ql:TSV;
              rml:iterator "names.tsv"
  						];
  	rr:subjectMap [
  		      rr:template "http://bio2rdf.org/chebi:{COMPOUND_ID}";
        		rr:class chebi:Compound
  	];
    rr:predicateObjectMap [
      rr:predicate chebi:synonym;
      rr:objectMap [
        rml:reference "NAME";
        rr:language "LANGUAGE"
      ]
    ].

:chebi_compound_comments
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
  						rml:referenceFormulation ql:TSV;
              rml:iterator "comments.tsv"
  						];
  	rr:subjectMap [
  		      rr:template "http://bio2rdf.org/chebi:{COMPOUND_ID}";
        		rr:class chebi:Compound
  	];

    rr:predicateObjectMap [
      rr:predicate rdfs:comment;
      rr:objectMap [
        rml:reference "TEXT"
      ]
    ].

:chebi_compound_db_accession
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
  						rml:referenceFormulation ql:TSV;
              rml:iterator "database_accession.tsv"
  						];
  	rr:subjectMap [
  		      rr:template "http://bio2rdf.org/chebi/accession/{ID}";
        		rr:class chebi:Accession
  	];

    rr:predicateObjectMap [
      rr:predicate chebi:accType;
      rr:objectMap [
        rml:reference "TYPE"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:accessionNumber;
      rr:objectMap [
        rml:reference "ACCESSION_NUMBER"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:xSource;
      rr:objectMap [
        rr:template "http://bio2rdf.org/chebi:source-{SOURCE}"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:compound;
      rr:objectMap [
      rr:template "http://bio2rdf.org/chebi:{COMPOUND_ID}";
      rr:class chebi:Compound
      ]
    ].

:chebi_compound_reference
  	rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
  						rml:referenceFormulation ql:TSV;
              rml:iterator "reference.tsv"
  						];
  	rr:subjectMap [
  		      rr:template "http://bio2rdf.org/chebi/reference/{COMPOUND_ID}";
        		rr:class chebi:Reference
  	];

    rr:predicateObjectMap [
      rr:predicate chebi:refDBName;
      rr:objectMap [
        rml:reference "REFERENCE_DB_NAME"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:refId;
      rr:objectMap [
        rml:reference "REFERENCE_ID"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:refName;
      rr:objectMap [
        rml:reference "REFERENCE_NAME"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:locationInRef;
      rr:objectMap [
      rml:reference "LOCATION_IN_REF"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:compound;
      rr:objectMap [
      rr:template "http://bio2rdf.org/chebi:{COMPOUND_ID}";
      rr:class chebi:Compound
      ]
    ].

:chebi_compound_chemical_data
    rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
              rml:referenceFormulation ql:TSV;
              rml:iterator "chemical_data.tsv"
              ];
    rr:subjectMap [
            rr:template "http://bio2rdf.org/chebi:{COMPOUND_ID}";
            rr:class chebi:Compound
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:formula;
      rr:objectMap [
        rml:reference "CHEMICAL_DATA[TYPE=FORMULA]"
      ]
    ] .

:chebi_ontology
      rml:logicalSource [
                rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
                rml:referenceFormulation ql:TSV;
                rml:iterator "ontology.tsv"
                ];
      rr:subjectMap [
              rr:template "http://bio2rdf.org/chebi:{TITLE}";
              rr:class rdfs:Class
      ].

:chebi_compound_vertice
    rml:logicalSource [
              rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
              rml:referenceFormulation ql:TSV;
              rml:iterator "vertice.tsv"
              ];
    rr:subjectMap [
            rr:template "http://bio2rdf.org/chebi:{COMPOUND_CHILD_ID}";
            rr:class chebi:Compound
    ];

    rr:predicateObjectMap [
      rr:predicate chebi:verticeRef;
      rr:objectMap [
        rml:reference "VERTICE_REF"
      ]
    ];
    rr:predicateObjectMap [
      rr:predicate chebi:verticeOntologyId;
      rr:objectMap [
        rr:parentTriplesMap :chebi_ontology
      ]
    ].


:chebi_compound_relation
      rml:logicalSource [
                rml:source <http://ontario.tib.eu/Federation1/datasource/CheBI>;
                rml:referenceFormulation ql:TSV;
                rml:iterator "relation.tsv"
                ];
      rr:subjectMap [
              rr:template "http://bio2rdf.org/chebi:{INIT_ID}";
              rr:class chebi:Compound
      ];
      rr:predicateObjectMap [
        rr:predicate chebi:is_a;
        rr:objectMap [
        rr:template "http://bio2rdf.org/chebi:{FINAL_ID[TYPE=is_a]}";
        rr:class chebi:Compound
        ]
      ].
